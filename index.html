<!DOCTYPE html>
<head>
<meta charset="ISO-8859-1">

<script>
	
var motoIps = "Motorcycle lorem ipsum dolor sit amet. ";
var fastWords = [
"motorcycle", 
"racebike", 
"track", 
"MotoGP",
"cam timing",
"collet",
"valve",
"crankshaft",
"connecting rod",
"wrist pin",
"slave cylinder",
"clutch",
"piston",
"throwout bearing",
"oil",
"muffler",
"catalytic converter",
"fork seal",
"caliper",
"detent",
"ABS",
"traction control",
"quick shifter",
"relay",
"solenoid",
"hall sensor",
"fuel",
"spark plug",
"ignition coil",
"pump",
"technician",
"timing belt",
"chain",
"gear",
"fast",
"fairings",
"race",
"Brembo",
"Ã–hlins",
"Penske",
"octane",
"MotoGP",
"Moto2",
"Moto3",
"Championship",
"AMA",
"WERA",
"racer",
"drag",
"sportbike",
"cruiser",
"standard",
"metric",
"knee slider",
"Ninja",
"Hayabusa"];

var ipsumWords = [
"consectetur adipiscing elit", 
"sed do eiusmod tempor incididunt", 
"ut labore et dolore magna aliqua", 
"enim ad minim veniam", 
"quis nostrud exercitation", 
"ullamco laboris nisi", 
"ut aliquip ex ea commodo consequat",
"duis aute irure dolor in reprehenderit", 
"in voluptate velit esse cillum", 
"dolore eu fugiat nulla pariatur",
"excepteur sint occaecat cupidatat non proident", 
"sunt in culpa qui officia", 
"deserunt mollit anim id est laborum",
"at vero eos",
"necessitatibus saepe eveniet"];

//var fastCount = fastWords.length;
//var ipsumCount = ipsumWords.length;
var bothWords = ipsumWords.concat(fastWords);

//capitalize first letter of string.
function capFirst(string){
    return string.charAt(0).toUpperCase() + string.slice(1);
}

//adds a period to end of string.
function addPeriod(string){
	return string.concat(".");
	}


function Randomizer (min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
}

//+ Jonas Raoni Soares Silva
//@ http://jsfromhell.com/array/shuffle [v1.0]
function Shuffler(o){ 
    for(var j, x, i = o.length; i; j = Math.floor(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);
    return o;
};

function Ipsify(){
	

	var finalArray = [];
	var finalString = "";
	var paraSizes = [Randomizer(6,10), Randomizer(10, 14), Randomizer(14, 18)]
	var size = 1;
	var radioSize = [document.getElementById("small"), document.getElementById("medium"), document.getElementById("large")];
	var radioTrue = document.getElementById("true");
	var repeat;
	var repeatedArray = [];
	var repeatedString = "";

	var returned = document.getElementById("returned");
	var charCounted = document.getElementById("charCounted");

	var repeatNode = document.getElementsByClassName("numberGroup");
	for(x = 0; x < repeatNode.length; x ++){
		if(repeatNode[x].checked){
			repeat = repeatNode[x].value;
			console.log(repeat);
		}
	}

		if(radioSize[0].checked)
			{size = paraSizes[0];}
		if(radioSize[1].checked)
			{size = paraSizes[1];}
		if(radioSize[2].checked)
			{size = paraSizes[2];}
	// debugger;
	for(var y = 0; y <repeat; y++){
		for( var i = 0; i < size; i++){
			var result = Shuffler(bothWords).join(" "); //removes commas from result and turns into string
			var sentenceLength = Randomizer(6,12);
			var arr = result.split(" ", sentenceLength); 
			var lastArr1 = arr.pop().concat(".")
			arr.push(lastArr1);
			var firstArr1 = arr.shift();
			firstArr1 = capFirst(firstArr1);
			arr.unshift(firstArr1);
			finalArray[i] = arr.join(" ");//arr is now a sentence!
			 
		}
		finalString = finalArray.join(" ");
		repeatedArray[y] = finalString;

		repeatedString = repeatedArray.join("");


//html manipulation
		var stringCountH3 = document.createElement("H3");
		var stringCount = finalString.length;
		var divString = document.createElement("div");
		var divCount = document.createElement("div");

		var countNode = document.createTextNode(stringCount);
		var stringNode = document.createTextNode(finalString)
		
		divString.appendChild(stringNode);
		returned.appendChild(divString);
		stringCountH3.textContent = "Character Count:";
		charCounted.appendChild(stringCountH3);
		charCounted.appendChild(countNode);
	}
//check to begin with Motorcycle Ipsum
		if(radioTrue.checked){
			var first = returned.firstChild;
			first.innerText = motoIps + first.innerText;
			console.log(first.innerText);
		}

	

	// console.log(repeatedString.length);
	// var charString = repeatedString.substr(0,1100);
	// console.log(charString.length + "   "  + charString);

	
	return returned;
}
</script>
</head>
<body>
	<h1>Moto Ipsum</h1>
	<h2>Your race-fueled dummy text generator</h2>
<form id="form" action="">
	Select to start with "Motorcycle lorem ipsum"<input type="radio"  id="true" value="true" checked="checked" name="startGroup">yes<input type="radio" id="false" value="false" name="startGroup">no<br/>
	Select small, medium, or large paragraphs.<input type="radio"  id="small" value="small" name="sizeGroup">small<input type="radio" id="medium" value="medium" checked="checked" name="sizeGroup">medium<input type="radio" id="large" value="large" name="sizeGroup">large<br/>
	How many paragraphs do you want?<input type ="radio" class="numberGroup" value="1" checked="checked" name="numberGroup">1<input type ="radio" class="numberGroup" value="2" name="numberGroup">2<input type ="radio" class="numberGroup" value="3" name="numberGroup">3<input type ="radio" class="numberGroup" value="4" name="numberGroup">4<input type ="radio" class="numberGroup" value="5" name="numberGroup">5<br/>
	<input type="button" value="ClickMe!" onclick="Ipsify()">
</form>
<div id="returned"></div>
<div id="charCounted"></div>
</body>
</html>